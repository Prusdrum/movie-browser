(this["webpackJsonpmovie-browser"]=this["webpackJsonpmovie-browser"]||[]).push([[0],{101:function(e,t,a){},127:function(e,t,a){"use strict";a.r(t);var n,r,c=a(0),i=a.n(c),o=a(14),l=a.n(o),u=(a(101),a(23)),s=a(29),m=a(78),p=a(85),d=a(11),v=a(19),b=a(180),f=a(182),O="[movies] ADD_MOVIES",E=Object(f.a)(O),g=Object(b.a)(Object(d.a)({},O,(function(e,t){return t.payload.reduce((function(e,t){return Object(v.a)({},e,Object(d.a)({},t.id,t))}),e)})),{}),j="[movieDetails] LOAD_MOVIE_DETAILS",h="[movieDetails] MOVIE_LOADED_SUCCESS",x="[movieDetails] MOVIE_LOADED_ERROR",w=Object(f.a)(j),y=Object(f.a)(h),L=Object(f.a)(x),k=Object(b.a)((n={},Object(d.a)(n,j,(function(e,t){var a=t.payload.movieId;return Object(v.a)({},e,{error:"",isLoading:!0,isLoaded:!1,currentId:a})})),Object(d.a)(n,h,(function(e){return Object(v.a)({},e,{error:"",isLoaded:!0,isLoading:!1})})),Object(d.a)(n,x,(function(e,t){var a=t.payload;return Object(v.a)({},e,{isLoading:!1,isLoaded:!1,error:a})})),n),{currentId:"",error:"",isLoaded:!1,isLoading:!1}),D="[application] LOAD_APP",N="[application] APP_LOADED",A=Object(f.a)(D),R=Object(f.a)(N),I=Object(b.a)(Object(d.a)({},N,(function(e){return Object(v.a)({},e,{isLoaded:!0})})),{isLoaded:!1}),P="[search] UPDATE_QUERY",S="[search] START_LOADING",_="[search] RESULTS_LOADED",T="[search] RESULTS_ERROR",C=Object(f.a)(P),B=Object(f.a)(S),M=Object(f.a)(T),F=Object(f.a)(_),V=Object(b.a)((r={},Object(d.a)(r,S,(function(e){return Object(v.a)({},e,{isLoading:!0})})),Object(d.a)(r,P,(function(e,t){return Object(v.a)({},e,{query:t.payload})})),Object(d.a)(r,_,(function(e,t){return Object(v.a)({},e,{results:t.payload,isLoading:!1})})),Object(d.a)(r,T,(function(e,t){return Object(v.a)({},e,{isLoading:!1,error:t.payload})})),r),{isLoading:!1,query:"",results:[],error:""}),W=Object(s.c)({movies:g,movieDetails:k,application:I,search:V}),U=a(17),q=a.n(U),G=a(21),Y=a(60),z=a(54),J=a(55),Q=a(56),$=a.n(Q),H=function(e){return"False"===e.Response};function K(e){return X.apply(this,arguments)}function X(){return(X=Object(J.a)(q.a.mark((function e(t){var a,n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat("http://www.omdbapi.com","/?i=").concat(t,"&apikey=").concat("157f34ed"),e.prev=1,e.next=4,$.a.get(a);case 4:if(n=e.sent,!H(n.data)){e.next=9;break}throw new Error(n.data.Error);case 9:return e.abrupt("return",n.data);case 10:e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(1),e.t0;case 15:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}var Z=function(e){return{id:e.imdbID,genre:e.Genre,language:e.Language,plot:e.Plot,poster:"N/A"===e.Poster?"":e.Poster,rating:Number.parseFloat(e.imdbRating),votes:e.imdbVotes,title:e.Title,year:e.Year,actors:e.Actors,director:e.Director,runtime:e.Runtime,writer:e.Writer,released:e.Released}},ee=function(e){return{id:e.imdbID,title:e.Title,poster:"N/A"===e.Poster?"":e.Poster,year:e.Year}},te=q.a.mark(ne),ae=q.a.mark(re);function ne(e){var t,a,n;return q.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(G.b)(K,e.payload.movieId);case 3:return t=r.sent,a=Z(t),r.next=7,Object(G.d)(E([a]));case 7:return r.next=9,Object(G.e)();case 9:return n=r.sent,Object(z.set)("REACT_APP_MOVIES",{movies:Object.entries(n.movies).map((function(e){var t=Object(Y.a)(e,2),a=(t[0],t[1]);return Object(v.a)({},a)}))}),r.next=13,Object(G.d)(y());case 13:r.next=19;break;case 15:return r.prev=15,r.t0=r.catch(0),r.next=19,Object(G.d)(L(r.t0.message));case 19:case"end":return r.stop()}}),te,null,[[0,15]])}function re(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(G.f)(j,ne);case 2:case"end":return e.stop()}}),ae)}var ce=q.a.mark(oe),ie=q.a.mark(le);function oe(){var e;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(e=Object(z.get)("REACT_APP_MOVIES"))){t.next=4;break}return t.next=4,Object(G.d)(E(e.movies));case 4:return t.next=6,Object(G.d)(R());case 6:case"end":return t.stop()}}),ce)}function le(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(G.f)(D,oe);case 2:case"end":return e.stop()}}),ie)}var ue=function(e){return"False"===e.Response};function se(e){return me.apply(this,arguments)}function me(){return(me=Object(J.a)(q.a.mark((function e(t){var a,n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat("http://www.omdbapi.com","/?s=").concat(t,"&apikey=").concat("157f34ed"),e.prev=1,e.next=4,$.a.get(a);case 4:if(n=e.sent,!ue(n.data)){e.next=9;break}throw new Error(n.data.Error);case 9:return e.abrupt("return",n.data);case 10:e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(1),e.t0;case 15:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}var pe=q.a.mark(ve),de=q.a.mark(be);function ve(e){var t,a,n;return q.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t=e.payload,r.prev=1,!(t.length>=3)){r.next=11;break}return r.next=5,Object(G.d)(B());case 5:return r.next=7,Object(G.b)(se,t);case 7:return a=r.sent,n=a.Search.map(ee),r.next=11,Object(G.d)(F(n));case 11:r.next=17;break;case 13:return r.prev=13,r.t0=r.catch(1),r.next=17,Object(G.d)(M(r.t0.message));case 17:case"end":return r.stop()}}),pe,null,[[1,13]])}function be(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(G.c)(300,P,ve);case 2:case"end":return e.stop()}}),de)}var fe=q.a.mark(Oe);function Oe(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(G.a)([re(),le(),be()]);case 2:case"end":return e.stop()}}),fe)}var Ee=a(33),ge=a(18),je="/",he="/search",xe="/movie/:id",we=function(){return"/"},ye=function(){return"/search"},Le=function(e){return"/movie/".concat(e)},ke=a(168),De=a(169),Ne=a(171),Ae=a(170),Re=a(165),Ie=a(129),Pe=a(178),Se=Object(Re.a)((function(e){return{paper:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)}}})),_e=function(e){var t=e.children,a=Se();return i.a.createElement(Pe.a,{mt:2},i.a.createElement(Ie.a,{className:a.paper},t))},Te=Object(Re.a)((function(e){return{appBarSpacer:Object(v.a)({},e.mixins.toolbar),appTitle:{color:e.typography.h6.color}}})),Ce=function(e){var t=e.children,a=Te();return i.a.createElement("div",null,i.a.createElement(ke.a,null,i.a.createElement(De.a,null,i.a.createElement(Ee.b,{to:we(),style:{color:"white"}},i.a.createElement(Ae.a,{variant:"h6",component:"h1"},"Movie app")))),i.a.createElement(Ne.a,null,i.a.createElement("div",{className:a.appBarSpacer}),i.a.createElement(_e,null,t)))},Be=function(e){var t=e.children,a=Object(ge.g)().id,n=Object(u.c)((function(e){return e.movies[a]})),r=Object(u.c)((function(e){return e.movieDetails})),o=r.isLoaded,l=r.error,s=Object(u.b)();return Object(c.useEffect)((function(){s(n?y():w({movieId:a}))}),[n,a,s]),i.a.createElement("div",null,t({isLoaded:o,movie:n,error:l}))},Me=a(173),Fe=a(174),Ve=Object(Re.a)((function(e){return{errorNotification:{color:e.palette.error.main,border:"3px solid ".concat(e.palette.error.main),padding:e.spacing(2)}}})),We=function(e){var t=e.children,a=Ve();return i.a.createElement("div",{className:a.errorNotification},t)},Ue=Object(Re.a)((function(e){return{container:{},image:{width:"100%"}}})),qe=function(e){var t=e.movie,a=Ue();return t.poster.length?i.a.createElement("div",{className:a.container},i.a.createElement("img",{className:a.image,src:t.poster,alt:'Movie poster for movie: "'.concat(t.title,'"')})):null},Ge=Object(Re.a)((function(e){return{item:{display:"flex",justifyContent:"space-between",flexDirection:"row",fontFamily:e.typography.fontFamily,padding:e.spacing(2),borderBottom:"1px solid ".concat(e.palette.divider)},title:{fontSize:e.typography.pxToRem(16),fontWeight:e.typography.fontWeightBold,flex:"1"},value:{flex:"1",fontSize:e.typography.pxToRem(16)}}})),Ye=function(e){var t=e.title,a=e.value,n=Ge();return i.a.createElement("dl",{className:n.item},i.a.createElement("dt",{className:n.title},t),i.a.createElement("dd",{className:n.value},a))},ze=a(183),Je=function(e){var t=e.movie;return i.a.createElement("div",null,i.a.createElement(ze.a,{readOnly:!0,value:t.rating,max:10}),i.a.createElement(Ae.a,{component:"legend"},t.rating,"/10 | ",t.votes," votes"))},Qe=function(e){var t=e.movie;return i.a.createElement("p",null,t.plot)},$e=Object(Re.a)((function(e){return{title:{wordBreak:"break-word"}}})),He=function(e){var t=e.movie,a=e.error,n=e.isLoaded,r=$e();return n&&t?a.length?i.a.createElement(We,null,a):i.a.createElement(Fe.a,{container:!0,spacing:2},i.a.createElement(Fe.a,{item:!0,xs:12,sm:4},i.a.createElement(Ae.a,{variant:"h4",component:"h2",className:r.title},t.title," (",t.year,")"),i.a.createElement(qe,{movie:t})),i.a.createElement(Fe.a,{item:!0,xs:12,sm:8},i.a.createElement(Ye,{title:"Genre",value:t.genre}),i.a.createElement(Ye,{title:"Language",value:t.language}),i.a.createElement(Ye,{title:"Released",value:t.released}),i.a.createElement(Ye,{title:"Rating",value:i.a.createElement(Je,{movie:t})}),i.a.createElement(Ye,{title:"Plot",value:i.a.createElement(Qe,{movie:t})}),i.a.createElement(Ye,{title:"Actors",value:t.actors}),i.a.createElement(Ye,{title:"Writer",value:t.writer}),i.a.createElement(Ye,{title:"Director",value:t.director}))):i.a.createElement(Me.a,null)},Ke=a(177),Xe=a(179),Ze=a(181),et=Object(Re.a)((function(e){return{item:{display:"flex",justifyContent:"flex-start",flexDirection:"row"},title:{marginLeft:e.spacing(1),display:"inline-block"}}})),tt=function(e){var t=e.movie,a=et();return i.a.createElement(Ee.b,{to:Le(t.id),className:a.item,style:{textDecoration:"none"}},i.a.createElement(Ze.a,{variant:"square",src:t.poster}),i.a.createElement("div",{className:a.title},t.title," (",t.year,")"))},at=function(){var e=Object(u.c)((function(e){return e.search})),t=e.isLoading,a=e.query,n=e.results,r=Object(u.b)(),c=function(e){r(C(e.target.value))};return i.a.createElement("div",null,i.a.createElement(Xe.a,{options:n,renderOption:function(e){return i.a.createElement(tt,{movie:e})},getOptionLabel:function(e){return e.title},renderInput:function(e){return i.a.createElement(Ke.a,Object.assign({},e,{value:a,onChange:c,placeholder:"Search movies e.g. Forrest Gump",variant:"outlined",InputProps:Object(v.a)({},e.InputProps,{endAdornment:i.a.createElement(i.a.Fragment,null,t?i.a.createElement(Me.a,{color:"primary",size:20}):null,e.InputProps.endAdornment)})}))}}))},nt=Object(Re.a)((function(e){return{posterContainer:{margin:"0 auto"},poster:{width:"auto",height:"150px"},fallback:{backgroundColor:e.palette.grey[100],display:"inline-block",height:"150px",width:"100px"}}})),rt=function(e){var t=e.movie,a=nt();return i.a.createElement("div",{className:a.posterContainer},t.poster.length?i.a.createElement("img",{alt:"Poster for movie: ".concat(t.title),className:a.poster,src:t.poster}):i.a.createElement("div",{className:a.fallback}))},ct=Object(Re.a)((function(e){return{item:{display:"flex",flexDirection:"column",height:"230px",border:"1px solid ".concat(e.palette.grey[300]),padding:e.spacing(1)},title:{textAlign:"center"}}})),it=function(e){var t=e.movie,a=ct();return i.a.createElement("div",{className:a.item},i.a.createElement(rt,{movie:t}),i.a.createElement("div",{className:a.title},i.a.createElement(Ee.b,{to:Le(t.id),style:{textDecoration:"none",color:"black"}},i.a.createElement(Ae.a,{component:"h3",variant:"h6"},t.title))))},ot=Object(Re.a)((function(e){return{container:{margin:"0 auto",marginTop:e.spacing(3)},title:{textAlign:"center",marginBottom:e.spacing(2)}}})),lt=function(e){return Object.entries(e.movies).map((function(e){var t=Object(Y.a)(e,2),a=(t[0],t[1]);return Object(v.a)({},a)})).slice(0,6)},ut=function(){var e=Object(u.c)(lt),t=ot();return 0===e.length?null:i.a.createElement("div",{className:t.container},i.a.createElement(Ae.a,{variant:"h5",component:"h2",className:t.title},"You've already viewed"),i.a.createElement(Fe.a,{container:!0,spacing:1},e.map((function(e){return i.a.createElement(Fe.a,{key:e.id,item:!0,xs:12,sm:6,md:4,lg:3},i.a.createElement(it,{movie:e}))}))))},st=a(176),mt=Object(Re.a)((function(e){var t;return{inputContainer:(t={},Object(d.a)(t,e.breakpoints.up("sm"),{width:"50%"}),Object(d.a)(t,"paddingLeft",e.spacing(1)),Object(d.a)(t,"paddingRight",e.spacing(1)),Object(d.a)(t,"margin","0 auto"),Object(d.a)(t,"marginBottom",e.spacing(3)),t)}})),pt=function(){var e=mt();return i.a.createElement(Be,null,(function(t){var a=t.isLoaded,n=t.movie,r=t.error;return i.a.createElement("div",null,i.a.createElement("div",{className:e.inputContainer},i.a.createElement(at,null)),i.a.createElement(He,{movie:n,isLoaded:a,error:r}),i.a.createElement(st.a,null),i.a.createElement(ut,null))}))},dt=Object(Re.a)((function(e){var t;return{inputContainer:(t={},Object(d.a)(t,e.breakpoints.up("sm"),{width:"50%"}),Object(d.a)(t,"paddingLeft",e.spacing(1)),Object(d.a)(t,"paddingRight",e.spacing(1)),Object(d.a)(t,"margin","0 auto"),t)}})),vt=function(){var e=dt();return i.a.createElement("div",null,i.a.createElement("div",{className:e.inputContainer},i.a.createElement(at,null)),i.a.createElement("div",null,i.a.createElement(ut,null)))},bt=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.application.isLoaded}));return Object(c.useEffect)((function(){t||e(A())}),[e,t]),t?i.a.createElement(Ee.a,null,i.a.createElement(ge.d,null,i.a.createElement(ge.b,{exact:!0,path:je},i.a.createElement(ge.a,{to:ye()})),i.a.createElement(ge.b,{exact:!0,path:he},i.a.createElement(Ce,null,i.a.createElement(vt,null))),i.a.createElement(ge.b,{exact:!0,path:xe},i.a.createElement(Ce,null,i.a.createElement(pt,null))))):null},ft=function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(p.a)(),a=[m.a,t],n=W,r=Object(s.d)(s.a.apply(void 0,a))(s.e),c=r(n,e);return t.run(Oe),c}();return i.a.createElement(u.a,{store:e},i.a.createElement(bt,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(ft,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},96:function(e,t,a){e.exports=a(127)}},[[96,1,2]]]);
//# sourceMappingURL=main.25c6b55c.chunk.js.map