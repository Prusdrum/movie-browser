(this["webpackJsonpmovie-browser"]=this["webpackJsonpmovie-browser"]||[]).push([[0],{101:function(e,t,a){},127:function(e,t,a){"use strict";a.r(t);var n,r,c=a(0),i=a.n(c),o=a(14),l=a.n(o),u=(a(101),a(23)),s=a(29),m=a(78),p=a(85),d=a(11),v=a(19),b=a(180),f=a(182),O="[movies] ADD_MOVIES",E=Object(f.a)(O),g=Object(b.a)(Object(d.a)({},O,(function(e,t){return t.payload.reduce((function(e,t){return Object(v.a)({},e,Object(d.a)({},t.id,t))}),e)})),{}),j="[movieDetails] LOAD_MOVIE_DETAILS",h="[movieDetails] MOVIE_LOADED_SUCCESS",x="[movieDetails] MOVIE_LOADED_ERROR",w=Object(f.a)(j),y=Object(f.a)(h),L=Object(f.a)(x),k=Object(b.a)((n={},Object(d.a)(n,j,(function(e,t){var a=t.payload.movieId;return Object(v.a)({},e,{error:"",isLoading:!0,isLoaded:!1,currentId:a})})),Object(d.a)(n,h,(function(e){return Object(v.a)({},e,{error:"",isLoaded:!0,isLoading:!1})})),Object(d.a)(n,x,(function(e,t){var a=t.payload;return Object(v.a)({},e,{isLoading:!1,isLoaded:!1,error:a})})),n),{currentId:"",error:"",isLoaded:!1,isLoading:!1}),D="[application] LOAD_APP",N="[application] APP_LOADED",A=Object(f.a)(D),R=Object(f.a)(N),I=Object(b.a)(Object(d.a)({},N,(function(e){return Object(v.a)({},e,{isLoaded:!0})})),{isLoaded:!1}),P="[search] UPDATE_QUERY",S="[search] START_LOADING",_="[search] RESULTS_LOADED",T="[search] RESULTS_ERROR",C=Object(f.a)(P),B=Object(f.a)(S),M=Object(f.a)(T),F=Object(f.a)(_),V=Object(b.a)((r={},Object(d.a)(r,S,(function(e){return Object(v.a)({},e,{isLoading:!0})})),Object(d.a)(r,P,(function(e,t){return Object(v.a)({},e,{query:t.payload})})),Object(d.a)(r,_,(function(e,t){return Object(v.a)({},e,{results:t.payload,isLoading:!1})})),Object(d.a)(r,T,(function(e,t){return Object(v.a)({},e,{isLoading:!1,error:t.payload})})),r),{isLoading:!1,query:"",results:[],error:""}),W=Object(s.c)({movies:g,movieDetails:k,application:I,search:V}),U=a(17),q=a.n(U),G=a(21),Y=a(60),z=a(54),J=a(55),Q=a(56),$=a.n(Q),H="https://www.omdbapi.com",K=function(e){return"False"===e.Response};function X(e){return Z.apply(this,arguments)}function Z(){return(Z=Object(J.a)(q.a.mark((function e(t){var a,n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(H,"/?i=").concat(t,"&apikey=").concat("157f34ed"),e.prev=1,e.next=4,$.a.get(a);case 4:if(n=e.sent,!K(n.data)){e.next=9;break}throw new Error(n.data.Error);case 9:return e.abrupt("return",n.data);case 10:e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(1),e.t0;case 15:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}var ee=function(e){return{id:e.imdbID,genre:e.Genre,language:e.Language,plot:e.Plot,poster:"N/A"===e.Poster?"":e.Poster,rating:Number.parseFloat(e.imdbRating),votes:e.imdbVotes,title:e.Title,year:e.Year,actors:e.Actors,director:e.Director,runtime:e.Runtime,writer:e.Writer,released:e.Released}},te=function(e){return{id:e.imdbID,title:e.Title,poster:"N/A"===e.Poster?"":e.Poster,year:e.Year}},ae=q.a.mark(re),ne=q.a.mark(ce);function re(e){var t,a,n;return q.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(G.b)(X,e.payload.movieId);case 3:return t=r.sent,a=ee(t),r.next=7,Object(G.d)(E([a]));case 7:return r.next=9,Object(G.e)();case 9:return n=r.sent,Object(z.set)("REACT_APP_MOVIES",{movies:Object.entries(n.movies).map((function(e){var t=Object(Y.a)(e,2),a=(t[0],t[1]);return Object(v.a)({},a)}))}),r.next=13,Object(G.d)(y());case 13:r.next=19;break;case 15:return r.prev=15,r.t0=r.catch(0),r.next=19,Object(G.d)(L(r.t0.message));case 19:case"end":return r.stop()}}),ae,null,[[0,15]])}function ce(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(G.f)(j,re);case 2:case"end":return e.stop()}}),ne)}var ie=q.a.mark(le),oe=q.a.mark(ue);function le(){var e;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(e=Object(z.get)("REACT_APP_MOVIES"))){t.next=4;break}return t.next=4,Object(G.d)(E(e.movies));case 4:return t.next=6,Object(G.d)(R());case 6:case"end":return t.stop()}}),ie)}function ue(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(G.f)(D,le);case 2:case"end":return e.stop()}}),oe)}var se=function(e){return"False"===e.Response};function me(e){return pe.apply(this,arguments)}function pe(){return(pe=Object(J.a)(q.a.mark((function e(t){var a,n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(H,"/?s=").concat(t,"&apikey=").concat("157f34ed"),e.prev=1,e.next=4,$.a.get(a);case 4:if(n=e.sent,!se(n.data)){e.next=9;break}throw new Error(n.data.Error);case 9:return e.abrupt("return",n.data);case 10:e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(1),e.t0;case 15:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}var de=q.a.mark(be),ve=q.a.mark(fe);function be(e){var t,a,n;return q.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t=e.payload,r.prev=1,!(t.length>=3)){r.next=11;break}return r.next=5,Object(G.d)(B());case 5:return r.next=7,Object(G.b)(me,t);case 7:return a=r.sent,n=a.Search.map(te),r.next=11,Object(G.d)(F(n));case 11:r.next=17;break;case 13:return r.prev=13,r.t0=r.catch(1),r.next=17,Object(G.d)(M(r.t0.message));case 17:case"end":return r.stop()}}),de,null,[[1,13]])}function fe(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(G.c)(300,P,be);case 2:case"end":return e.stop()}}),ve)}var Oe=q.a.mark(Ee);function Ee(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(G.a)([ce(),ue(),fe()]);case 2:case"end":return e.stop()}}),Oe)}var ge=a(33),je=a(18),he="/",xe="/search",we="/movie/:id",ye=function(){return"/"},Le=function(){return"/search"},ke=function(e){return"/movie/".concat(e)},De=a(168),Ne=a(169),Ae=a(171),Re=a(170),Ie=a(165),Pe=a(129),Se=a(178),_e=Object(Ie.a)((function(e){return{paper:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)}}})),Te=function(e){var t=e.children,a=_e();return i.a.createElement(Se.a,{mt:2},i.a.createElement(Pe.a,{className:a.paper},t))},Ce=Object(Ie.a)((function(e){return{appBarSpacer:Object(v.a)({},e.mixins.toolbar),appTitle:{color:e.typography.h6.color}}})),Be=function(e){var t=e.children,a=Ce();return i.a.createElement("div",null,i.a.createElement(De.a,null,i.a.createElement(Ne.a,null,i.a.createElement(ge.b,{to:ye(),style:{color:"white"}},i.a.createElement(Re.a,{variant:"h6",component:"h1"},"Movie app")))),i.a.createElement(Ae.a,null,i.a.createElement("div",{className:a.appBarSpacer}),i.a.createElement(Te,null,t)))},Me=function(e){var t=e.children,a=Object(je.g)().id,n=Object(u.c)((function(e){return e.movies[a]})),r=Object(u.c)((function(e){return e.movieDetails})),o=r.isLoaded,l=r.error,s=Object(u.b)();return Object(c.useEffect)((function(){s(n?y():w({movieId:a}))}),[n,a,s]),i.a.createElement("div",null,t({isLoaded:o,movie:n,error:l}))},Fe=a(173),Ve=a(174),We=Object(Ie.a)((function(e){return{errorNotification:{color:e.palette.error.main,border:"3px solid ".concat(e.palette.error.main),padding:e.spacing(2)}}})),Ue=function(e){var t=e.children,a=We();return i.a.createElement("div",{className:a.errorNotification},t)},qe=Object(Ie.a)((function(e){return{container:{},image:{width:"100%"}}})),Ge=function(e){var t=e.movie,a=qe();return t.poster.length?i.a.createElement("div",{className:a.container},i.a.createElement("img",{className:a.image,src:t.poster,alt:'Movie poster for movie: "'.concat(t.title,'"')})):null},Ye=Object(Ie.a)((function(e){return{item:{display:"flex",justifyContent:"space-between",flexDirection:"row",fontFamily:e.typography.fontFamily,padding:e.spacing(2),borderBottom:"1px solid ".concat(e.palette.divider)},title:{fontSize:e.typography.pxToRem(16),fontWeight:e.typography.fontWeightBold,flex:"1"},value:{flex:"1",fontSize:e.typography.pxToRem(16)}}})),ze=function(e){var t=e.title,a=e.value,n=Ye();return i.a.createElement("dl",{className:n.item},i.a.createElement("dt",{className:n.title},t),i.a.createElement("dd",{className:n.value},a))},Je=a(183),Qe=function(e){var t=e.movie;return i.a.createElement("div",null,i.a.createElement(Je.a,{readOnly:!0,value:t.rating,max:10}),i.a.createElement(Re.a,{component:"legend"},t.rating,"/10 | ",t.votes," votes"))},$e=function(e){var t=e.movie;return i.a.createElement("p",null,t.plot)},He=Object(Ie.a)((function(e){return{title:{wordBreak:"break-word"}}})),Ke=function(e){var t=e.movie,a=e.error,n=e.isLoaded,r=He();return n&&t?a.length?i.a.createElement(Ue,null,a):i.a.createElement(Ve.a,{container:!0,spacing:2},i.a.createElement(Ve.a,{item:!0,xs:12,sm:4},i.a.createElement(Re.a,{variant:"h4",component:"h2",className:r.title},t.title," (",t.year,")"),i.a.createElement(Ge,{movie:t})),i.a.createElement(Ve.a,{item:!0,xs:12,sm:8},i.a.createElement(ze,{title:"Genre",value:t.genre}),i.a.createElement(ze,{title:"Language",value:t.language}),i.a.createElement(ze,{title:"Released",value:t.released}),i.a.createElement(ze,{title:"Rating",value:i.a.createElement(Qe,{movie:t})}),i.a.createElement(ze,{title:"Plot",value:i.a.createElement($e,{movie:t})}),i.a.createElement(ze,{title:"Actors",value:t.actors}),i.a.createElement(ze,{title:"Writer",value:t.writer}),i.a.createElement(ze,{title:"Director",value:t.director}))):i.a.createElement(Fe.a,null)},Xe=a(177),Ze=a(179),et=a(181),tt=Object(Ie.a)((function(e){return{item:{display:"flex",justifyContent:"flex-start",flexDirection:"row"},title:{marginLeft:e.spacing(1),display:"inline-block"}}})),at=function(e){var t=e.movie,a=tt();return i.a.createElement(ge.b,{to:ke(t.id),className:a.item,style:{textDecoration:"none"}},i.a.createElement(et.a,{variant:"square",src:t.poster}),i.a.createElement("div",{className:a.title},t.title," (",t.year,")"))},nt=function(){var e=Object(u.c)((function(e){return e.search})),t=e.isLoading,a=e.query,n=e.results,r=Object(u.b)(),c=function(e){r(C(e.target.value))};return i.a.createElement("div",null,i.a.createElement(Ze.a,{options:n,renderOption:function(e){return i.a.createElement(at,{movie:e})},getOptionLabel:function(e){return e.title},renderInput:function(e){return i.a.createElement(Xe.a,Object.assign({},e,{value:a,onChange:c,placeholder:"Search movies e.g. Forrest Gump",variant:"outlined",InputProps:Object(v.a)({},e.InputProps,{endAdornment:i.a.createElement(i.a.Fragment,null,t?i.a.createElement(Fe.a,{color:"primary",size:20}):null,e.InputProps.endAdornment)})}))}}))},rt=Object(Ie.a)((function(e){return{posterContainer:{margin:"0 auto"},poster:{width:"auto",height:"150px"},fallback:{backgroundColor:e.palette.grey[100],display:"inline-block",height:"150px",width:"100px"}}})),ct=function(e){var t=e.movie,a=rt();return i.a.createElement("div",{className:a.posterContainer},t.poster.length?i.a.createElement("img",{alt:"Poster for movie: ".concat(t.title),className:a.poster,src:t.poster}):i.a.createElement("div",{className:a.fallback}))},it=Object(Ie.a)((function(e){return{item:{display:"flex",flexDirection:"column",height:"230px",border:"1px solid ".concat(e.palette.grey[300]),padding:e.spacing(1)},title:{textAlign:"center"}}})),ot=function(e){var t=e.movie,a=it();return i.a.createElement("div",{className:a.item},i.a.createElement(ct,{movie:t}),i.a.createElement("div",{className:a.title},i.a.createElement(ge.b,{to:ke(t.id),style:{textDecoration:"none",color:"black"}},i.a.createElement(Re.a,{component:"h3",variant:"h6"},t.title))))},lt=Object(Ie.a)((function(e){return{container:{margin:"0 auto",marginTop:e.spacing(3)},title:{textAlign:"center",marginBottom:e.spacing(2)}}})),ut=function(e){return Object.entries(e.movies).map((function(e){var t=Object(Y.a)(e,2),a=(t[0],t[1]);return Object(v.a)({},a)})).slice(0,6)},st=function(){var e=Object(u.c)(ut),t=lt();return 0===e.length?null:i.a.createElement("div",{className:t.container},i.a.createElement(Re.a,{variant:"h5",component:"h2",className:t.title},"You've already viewed"),i.a.createElement(Ve.a,{container:!0,spacing:1},e.map((function(e){return i.a.createElement(Ve.a,{key:e.id,item:!0,xs:12,sm:6,md:4,lg:3},i.a.createElement(ot,{movie:e}))}))))},mt=a(176),pt=Object(Ie.a)((function(e){var t;return{inputContainer:(t={},Object(d.a)(t,e.breakpoints.up("sm"),{width:"50%"}),Object(d.a)(t,"paddingLeft",e.spacing(1)),Object(d.a)(t,"paddingRight",e.spacing(1)),Object(d.a)(t,"margin","0 auto"),Object(d.a)(t,"marginBottom",e.spacing(3)),t)}})),dt=function(){var e=pt();return i.a.createElement(Me,null,(function(t){var a=t.isLoaded,n=t.movie,r=t.error;return i.a.createElement("div",null,i.a.createElement("div",{className:e.inputContainer},i.a.createElement(nt,null)),i.a.createElement(Ke,{movie:n,isLoaded:a,error:r}),i.a.createElement(mt.a,null),i.a.createElement(st,null))}))},vt=Object(Ie.a)((function(e){var t;return{inputContainer:(t={},Object(d.a)(t,e.breakpoints.up("sm"),{width:"50%"}),Object(d.a)(t,"paddingLeft",e.spacing(1)),Object(d.a)(t,"paddingRight",e.spacing(1)),Object(d.a)(t,"margin","0 auto"),t)}})),bt=function(){var e=vt();return i.a.createElement("div",null,i.a.createElement("div",{className:e.inputContainer},i.a.createElement(nt,null)),i.a.createElement("div",null,i.a.createElement(st,null)))},ft=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.application.isLoaded}));return Object(c.useEffect)((function(){t||e(A())}),[e,t]),t?i.a.createElement(ge.a,{basename:"/movie-browser"},i.a.createElement(je.d,null,i.a.createElement(je.b,{exact:!0,path:he},i.a.createElement(je.a,{to:Le()})),i.a.createElement(je.b,{exact:!0,path:xe},i.a.createElement(Be,null,i.a.createElement(bt,null))),i.a.createElement(je.b,{exact:!0,path:we},i.a.createElement(Be,null,i.a.createElement(dt,null))))):null},Ot=function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(p.a)(),a=[m.a,t],n=W,r=Object(s.d)(s.a.apply(void 0,a))(s.e),c=r(n,e);return t.run(Ee),c}();return i.a.createElement(u.a,{store:e},i.a.createElement(ft,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(Ot,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},96:function(e,t,a){e.exports=a(127)}},[[96,1,2]]]);
//# sourceMappingURL=main.8ea1c7ca.chunk.js.map